<canvas id="myChartx"></canvas>
<div id="tester" style="width:100%;height:50%%;"></div>
<div id="tester2" style="width:100%;height:50%%;"></div>
<div id="tester3" style="width:100%;height:50%%;"></div>

<!--script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script-->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>


<script>
var data = `01/02/2018,"CHECKCARD 0101 UBER TRIP J4IOE HELP.UBER.COMCA 24492158001719773666735","-14.20","14334.87"
01/02/2018,"BKOFAMERICA ATM 01/02 #000002621 WITHDRWL EXETER PLAZA BOSTON MA","-20.00","14314.87"
01/02/2018,"Field Corp DES:WEB PMTS ID:1671 INDN:Utsav Beri CO ID:XXXXX96195 WEB","-1600.00","12714.87"
01/02/2018,"STASH (STSH) DES:ACH ID:XXXXX229129506 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-25.00","12689.87"
01/03/2018,"Bank of America DES:CASHREWARD ID:BERI INDN:0000000402067444000000 CO ID:XXXXX90310 PPD","45.30","12735.17"
01/03/2018,"TransferWise Inc DES:utsav beri ID:27960787 INDN:utsav beri CO ID:XXXXX33521 IAT PMT INFO: REM 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","-1000.00","11735.17"
01/03/2018,"COINBASE.COM/BTC DES:8003435845 ID:QQJYC65TC016 INDN:UTSAV BERI CO ID:XXXXX93997 WEB","-100.00","11635.17"
01/03/2018,"COINBASE.COM/BTC DES:8003435845 ID:LLRNPTVCC016 INDN:UTSAV BERI CO ID:XXXXX93997 WEB","-100.00","11535.17"
01/04/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-265.48","11269.69"
01/04/2018,"STASH (STSH) DES:ACH ID:XXXXX102144504 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-55.00","11214.69"
01/08/2018,"CHECKCARD 0107 UBER TRIP GGG5N HELP.UBER.COMCA 24492158007715008669290","-7.62","11207.07"
01/08/2018,"Bank of America Credit Card Bill Payment","-909.78","10297.29"
01/08/2018,"Gap Visa DES:Gap EPAY ID:XXXXX99444 INDN: 4479941562184100 CO ID:XXXXX42001 WEB","-320.00","9977.29"
01/08/2018,"COINBASE.COM/BTC DES:8003435845 ID:XKQM3LTBC016 INDN:UTSAV BERI CO ID:XXXXX93997 WEB","-200.00","9777.29"
01/08/2018,"SPRINT8006396111 DES:ACHBILLPAY ID:XXXXX8080 INDN:UTSAV BERI CO ID:XXXXX16695 WEB","-120.59","9656.70"
01/08/2018,"EVERSOURCE DES:WEB_PAY ID:XXXXX999010418 INDN:UTSAV BERI CO ID:XXXXX42013 WEB","-27.33","9629.37"
01/09/2018,"BANK OF AMERICA CREDIT CARD Bill Payment","-909.78","8719.59"
01/09/2018,"STASH (STSH) DES:ACH ID:XXXXX108081579 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-55.00","8664.59"
01/10/2018,"NATIONAL GRID NE DES:UTILITYPAY ID:XXXXX018913 INDN:utsav beri CO ID:XXXXX84002 WEB","-11.27","8653.32"
01/12/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX5761910HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3242.95","11896.27"
01/16/2018,"CHECKCARD 0114 UBER TRIP MQ4ZZ HELP.UBER.COMCA 24492158014717288983913","-16.48","11879.79"
01/17/2018,"STASH (STSH) DES:ACH ID:XXXXX116110248 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-55.00","11824.79"
01/23/2018,"STASH (STSH) DES:ACH ID:XXXXX122137217 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-55.00","11769.79"
01/26/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX2164235HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3342.85","15112.64"
01/26/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-152.17","14960.47"
01/29/2018,"VENMO DES:PAYMENT ID:XXXXX3763 INDN:UTSAV BERI CO ID:XXXXX81992 WEB","-10.00","14950.47"
01/30/2018,"Zelle Transfer Conf# bc6478bfc; KASHALIKAR, SAMPADA","1990.93","16941.40"
01/30/2018,"STASH (STSH) DES:ACH ID:XXXXX129126571 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","16881.40"
01/31/2018,"BANK OF AMERICA CREDIT CARD Bill Payment","-2000.00","14881.40"
02/01/2018,"Field Corp DES:WEB PMTS ID:KC91 INDN:Utsav Beri CO ID:XXXXX96195 WEB","-1600.00","13281.40"
02/02/2018,"Bank of America DES:CASHREWARD ID:BERI INDN:0000000402067444000000 CO ID:XXXXX90310 PPD","37.20","13318.60"
02/05/2018,"CHECKCARD 0202 UBER *TRIP EE2GG 800-592-8996 CA 24692168033100967302875","-5.55","13313.05"
02/05/2018,"CHECKCARD 0202 UBER TRIP OLXJQ HELP.UBER.COMCA 24492158034713090468082","-10.76","13302.29"
02/06/2018,"STASH (STSH) DES:ACH ID:XXXXX205105697 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","13242.29"
02/07/2018,"EVERSOURCE DES:WEB_PAY ID:XXXXX014020518 INDN:UTSAV BERI CO ID:XXXXX42013 WEB","-33.35","13208.94"
02/08/2018,"CHECKCARD 0207 EAT24 *CHARLIES PIZZA EAT24HOURS.COCA 24492158038637388935948","-15.50","13193.44"
02/08/2018,"BKOFAMERICA ATM 02/08 #000007089 WITHDRWL TENT CITY REMOTE BOSTON MA","-20.00","13173.44"
02/09/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX7914259HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3342.85","16516.29"
02/09/2018,"BANK OF AMERICA CREDIT CARD Bill Payment","-751.73","15764.56"
02/09/2018,"NATIONAL GRID NE DES:UTILITYPAY ID:XXXXX018913 INDN:utsav beri CO ID:XXXXX84002 WEB","-10.44","15754.12"
02/12/2018,"CHECKCARD 0210 EAT24 *CHARLIES PIZZA EAT24HOURS.COCA 24492158042637519563654","-25.12","15729.00"
02/13/2018,"CHECKCARD 0213 UBER *TRIP IFAY2 800-592-8996 CA 24692168044100252710607","-2.23","13726.77"
02/13/2018,"STASH (STSH) DES:ACH ID:XXXXX212091195 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","13666.77"
02/14/2018,"TransferWise Inc DES:utsav beri ID:30371593 INDN:utsav beri CO ID:XXXXX33521 IAT PMT INFO: REM 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","-505.00","13161.77"
02/14/2018,"SPRINT8006396111 DES:ACHBILLPAY ID:XXXXX8080 INDN:UTSAV BERI CO ID:XXXXX16695 WEB","-160.25","13001.52"
02/16/2018,"SANTANDER 02/16 #000481589 WITHDRWL 100 Huntington Av Boston MA","-83.50","12918.02"
02/16/2018,"SANTANDER 02/16 #000481589 WITHDRWL 100 Huntington Av Boston MA FEE","-2.50","12915.52"
02/20/2018,"CHECKCARD 0217 EAT24 *CHARLIES PIZZA EAT24HOURS.COCA 24492158049637777842470","-15.50","12900.02"
02/20/2018,"Bank of America Credit Card Bill Payment","-780.21","12119.81"
02/21/2018,"CHECKCARD 0220 GOOGLE *Google Storage 855-836-3987 CA 24692168051100005076470 RECURRING","-1.99","12117.82"
02/21/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-544.71","11573.11"
02/21/2018,"STASH (STSH) DES:ACH ID:XXXXX220157115 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","11513.11"
02/23/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX5562023HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3342.85","14855.96"
02/26/2018,"BKOFAMERICA ATM 02/25 #000007062 WITHDRWL ALLSTON ALLSTON MA","-120.00","14735.96"
02/26/2018,"STASH (STSH) DES:ACH ID:XXXXX223032971 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-1.00","14734.96"
02/27/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX226110703 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","14674.96"
03/01/2018,"CHECKCARD 0301 UBER TRIP JFIIV HELP.UBER.COMCA 24492158060717227691398","-16.90","14658.06"
03/01/2018,"Field Corp DES:WEB PMTS ID:3CC1 INDN:Utsav Beri CO ID:XXXXX96195 WEB","-1600.00","13058.06"
03/02/2018,"Bank of America DES:CASHREWARD ID:BERI INDN:0000000402067444000000 CO ID:XXXXX90310 PPD","46.42","13104.48"
03/05/2018,"BANK OF AMERICA CREDIT CARD Bill Payment","-615.39","12489.09"
03/05/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-284.53","12204.56"
03/06/2018,"TransferWise Inc DES:utsav beri ID:31552815 INDN:utsav beri CO ID:XXXXX33521 IAT PMT INFO: REM 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","-500.00","11704.56"
03/06/2018,"COINBASE.COM/BTC DES:8003435845 ID:KPSEX920C016 INDN:UTSAV BERI CO ID:XXXXX93997 WEB","-100.00","11604.56"
03/06/2018,"TransferWise Inc DES:utsav beri ID:31553058 INDN:utsav beri CO ID:XXXXX33521 IAT PMT INFO: REM 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","-100.00","11504.56"
03/06/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX305129916 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","11444.56"
03/08/2018,"Gap Visa DES:Gap EPAY ID:XXXXX12958 INDN: 4479941562184100 CO ID:XXXXX42001 WEB","-338.46","11106.10"
03/09/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX5997355HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3342.85","14448.95"
03/09/2018,"EVERSOURCE DES:WEB_PAY ID:XXXXX348030718 INDN:UTSAV BERI CO ID:XXXXX42013 WEB","-64.19","14384.76"
03/13/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX312152987 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","14324.76"
03/13/2018,"NATIONAL GRID NE DES:UTILITYPAY ID:XXXXX018913 INDN:utsav beri CO ID:XXXXX84002 WEB","-10.42","14314.34"
03/14/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX5476715HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","7540.00","21854.34"
03/14/2018,"COINBASE.COM/BTC DES:8889087930 ID:H81B46IPC016 INDN:UTSAV BERI CO ID:XXXXX93997 WEB","-50.00","21804.34"
03/19/2018,"CHECKCARD 0318 EAT24CONATALIESPIZZER SEAMLESS.COM NY 24492158077719022745461","-37.44","21766.90"
03/19/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-191.89","21575.01"
03/19/2018,"SPRINT8006396111 DES:ACHBILLPAY ID:XXXXX8080 INDN:UTSAV BERI CO ID:XXXXX16695 WEB","-117.64","21457.37"
03/20/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX319101323 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-60.00","21397.37"
03/21/2018,"CHECKCARD 0320 GOOGLE *Google Storage 855-836-3987 CA 24692168079100660885718 RECURRING","-1.99","21395.38"
03/23/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX2797454HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3458.66","21354.04"
03/23/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX322087328 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-5.00","21349.04"
03/26/2018,"CHECKCARD 0323 EAT24COCHARLIESPIZZAC SEAMLESS.COM NY 24492158083713283207040","-26.05","21322.99"
03/26/2018,"CHECKCARD 0323 UBER TRIP S23JF HELP.UBER.COMCA 24492158083717293305264","-8.64","21314.35"
03/26/2018,"CHECKCARD 0325 UBER TRIP 3BAUE HELP.UBER.COMCA 24492158084713347476549","-8.45","21305.90"
03/27/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX326108720 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","21240.90"
03/28/2018,"CHECKCARD 0328 UBER TRIP F4GPG HELP.UBER.COMCA 24492158087713481577042","-5.35","21235.55"
03/29/2018,"Bank of America Credit Card Bill Payment","-925.33","20310.22"
04/02/2018,"Field Corp DES:WEB PMTS ID:MCF1 INDN:Utsav Beri CO ID:XXXXX96195 WEB","-1600.00","18710.22"
04/03/2018,"CHECKCARD 0402 EAT24COCHARLIESPIZZAC SEAMLESS.COM NY 24492158093713750812395","-24.91","18685.31"
04/03/2018,"7-ELEVEN 04/03 #000266735 PURCHASE 7-ELEVEN BOSTON MA","-9.24","18676.07"
04/03/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX402222234 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","18611.07"
04/05/2018,"Sugandha Ranjan DES:Mac RANJAN ID:29360517 INDN:Utsav Beri CO ID:XXXXX33521 IAT PMT INFO: MIS 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","2393.00","21004.07"
04/06/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX6536018HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3458.66","24462.73"
04/09/2018,"CHECKCARD 0407 UBER TRIP XYKQV HELP.UBER.COMCA 24492158097717961053836","-19.99","24442.74"
04/09/2018,"CHECKCARD 0407 UBER TRIP 3TVSW HELP.UBER.COMCA 24492158097715940949355","-16.13","24426.61"
04/09/2018,"CHECKCARD 0409 EAT24COCHARLIESPIZZAC SEAMLESS.COM NY 24492158099713060074508","-19.45","24407.16"
04/09/2018,"BANK OF AMERICA CREDIT CARD Bill Payment","-3278.43","21128.73"
04/10/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-134.33","20994.40"
04/10/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX409090648 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","20929.40"
04/11/2018,"Zelle Transfer Conf# 7a5ad6eec; Giri, Mohini","-500.00","20429.40"
04/13/2018,"PAYPAL*Beri Ut 04/13 #000623438 PMNT RCVD PAYPAL*Beri Utsav San Jose CA","310.25","20739.65"
04/16/2018,"CHECKCARD 0415 UBER TRIP HRXYL HELP.UBER.COMCA 24492158105719399607803","-13.40","20726.25"
04/16/2018,"CHECKCARD 0415 UBER TRIP NMPF5 HELP.UBER.COMCA 24492158105719398811497","-12.59","20713.66"
04/16/2018,"SPRINT8006396111 DES:ACHBILLPAY ID:XXXXX8080 INDN:UTSAV BERI CO ID:XXXXX16695 WEB","-104.27","20609.39"
04/17/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-67.65","20541.74"
04/17/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX416112495 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","20476.74"
04/17/2018,"NATIONAL GRID NE DES:UTILITYPAY ID:XXXXX018913 INDN:utsav beri CO ID:XXXXX84002 WEB","-12.32","20464.42"
04/20/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX2103598HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3458.66","23923.08"
04/23/2018,"CHECKCARD 0420 GOOGLE *Google Storage 855-836-3987 CA 24692168110100653161136 RECURRING","-1.99","23921.09"
04/24/2018,"COMM. OF MASS. DES:MASTTAXRFD ID:XXXXX1085 INDN:BERI, UTSAV CO ID:E046002284 PPD","57.00","23978.09"
04/24/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX423097545 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","23913.09"
04/26/2018,"BKOFAMERICA ATM 04/26 #000009842 WITHDRWL EXETER PLAZA BOSTON MA","-20.00","23893.09"
05/01/2018,"CHECKCARD 0501 EAT24COAZAMAGRILL SEAMLESS.COM NY 24492158121717171975778","-34.49","23858.60"
05/01/2018,"Field Corp DES:WEB PMTS ID:0MH1 INDN:Utsav Beri CO ID:XXXXX96195 WEB","-1600.00","22258.60"
05/01/2018,"EVERSOURCE DES:WEB_PAY ID:XXXXX535041118 INDN:UTSAV BERI CO ID:XXXXX42013 WEB","-173.39","22085.21"
05/01/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX430191136 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","22020.21"
05/02/2018,"Bank of America Credit Card Bill Payment","-1559.26","20460.95"
05/03/2018,"Bank of America DES:CASHREWARD ID:BERI INDN:0000000402067444000000 CO ID:XXXXX90310 PPD","68.55","20529.50"
05/03/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-110.19","20419.31"
05/04/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX7023727HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3458.66","23877.97"
05/08/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX507193470 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","23812.97"
05/09/2018,"P373095 05/09 #000070600 WITHDRWL 165 ALLSTON STREE ALLSTON MA","-21.75","25791.22"
05/09/2018,"P373095 05/09 #000070600 WITHDRWL 165 ALLSTON STREE ALLSTON MA FEE","-2.50","25788.72"
05/14/2018,"Bank of America Credit Card Bill Payment","-900.21","24888.51"
05/15/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX514116095 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","24823.51"
05/18/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX6909735HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3458.66","28282.17"
05/21/2018,"Zelle Transfer Conf# 2cebcdb02; KHANNA, ABHA","20.00","28302.17"
05/21/2018,"CHECKCARD 0520 GOOGLE *Google Storage 855-836-3987 CA 24692168140100394817966 RECURRING","-1.99","28300.18"
05/21/2018,"Zelle Transfer Conf# 3f2554460; abha","-58.00","28242.18"
05/21/2018,"TransferWise Inc DES:utsav beri ID:36333928 INDN:utsav beri CO ID:XXXXX33521 IAT PMT INFO: REM 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","-500.00","27742.18"
05/22/2018,"TransferWise Inc DES:utsav beri ID:36430453 INDN:utsav beri CO ID:XXXXX33521 IAT PMT INFO: REM 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","-500.00","27242.18"
05/22/2018,"SPRINT8006396111 DES:ACHBILLPAY ID:XXXXX8080 INDN:UTSAV BERI CO ID:XXXXX16695 WEB","-70.13","27172.05"
05/22/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX521169058 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","27107.05"
05/24/2018,"CHECKCARD 0524 UBER TRIP 4MGUH HELP.UBER.COMCA 24492158144719339777800","-5.06","27101.99"
05/24/2018,"NATIONAL GRID NE DES:UTILITYPAY ID:XXXXX018913 INDN:utsav beri CO ID:XXXXX84002 WEB","-12.69","27089.30"
05/25/2018,"Gap Visa DES:Gap EPAY ID:XXXXX93815 INDN: 4479941562184100 CO ID:XXXXX42001 WEB","-114.45","26974.85"
05/29/2018,"BKOFAMERICA ATM 05/26 #000007497 WITHDRWL ALLSTON ALLSTON MA","-200.00","26774.85"
05/29/2018,"CHECKCARD 0527 UBER *TRIP 6XQZC 800-592-8996 CA 24692168147100842360679","-25.00","26749.85"
05/30/2018,"Bank of America Credit Card Bill Payment","-1075.02","25674.83"
05/30/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-270.52","25404.31"
05/30/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX529147727 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","25339.31"
06/01/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX6710621HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3458.66","28797.97"
06/01/2018,"Field Corp DES:WEB PMTS ID:FWK1 INDN:Utsav Beri CO ID:XXXXX96195 WEB","-1600.00","27197.97"
06/04/2018,"Bank of America DES:CASHREWARD ID:BERI INDN:0000000402067444000000 CO ID:XXXXX90310 PPD","29.13","27227.10"
06/04/2018,"CHECKCARD 0604 UBER TRIP 5OHUM HELP.UBER.COMCA 24492158155715802428729","-11.13","27215.97"
06/04/2018,"EVERSOURCE DES:WEB_PAY ID:XXXXX198052018 INDN:UTSAV BERI CO ID:XXXXX42013 WEB","-83.61","27132.36"
06/05/2018,"CHECKCARD 0604 PAYPAL *MANDAARGIRI 402-935-7733 CA 24492158156894337901499","-10.00","27122.36"
06/05/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX604144073 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","27057.36"
06/06/2018,"VENMO DES:CASHOUT ID:XXXXX41545 INDN:UTSAV BERI CO ID:XXXXX81992 PPD","253.00","27310.36"
06/06/2018,"TransferWise Inc DES:utsav beri ID:37563633 INDN:utsav beri CO ID:XXXXX33521 IAT PMT INFO: REM 000000000000000000 FOR MORE INFORMATION CONTACT CUSTOMER SERVICE","-500.00","26810.36"
06/07/2018,"Zelle Transfer Conf# 1035e5d50; Giri, Mohini","-400.00","26410.36"
06/12/2018,"CHECKCARD 0610 ALLSTON MARKET ALLSTON MA 24269758162900014900413","-65.78","26344.58"
06/12/2018,"BANK OF AMERICA CREDIT CARD Bill Payment","-1006.42","25338.16"
06/12/2018,"IRS DES:USATAXPYMT ID:XXXXX6390225367 INDN:UTSAV BERI CO ID:XXXXX02000 WEB","-785.00","24553.16"
06/12/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX611191796 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","24488.16"
06/13/2018,"CHECKCARD 0613 UBER EATS SJ4WP HELP.UBER.COMCA 24492158164713159849323","-33.85","24454.31"
06/14/2018,"SPRINT8006396111 DES:ACHBILLPAY ID:XXXXX8080 INDN:UTSAV BERI CO ID:XXXXX16695 WEB","-157.83","24296.48"
06/15/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX9846353HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3489.46","27785.94"
06/15/2018,"Check 110","-25.00","27760.94"
06/18/2018,"CHECKCARD 0615 UBER TRIP IWWS7 HELP.UBER.COMCA 24492158166713264653188","-4.39","27756.55"
06/18/2018,"CHECKCARD 0617 UBER BZAHF HELP.UBER.COMCA 24492158168713354440312","-29.71","27726.84"
06/19/2018,"Zelle Transfer Conf# 3cb0a0b07; KHANNA, ABHA","30.00","27756.84"
06/19/2018,"CHECKCARD 0618 UBER TRIP ZVL2M HELP.UBER.COMCA 24492158169713389998648","-19.32","27737.52"
06/19/2018,"CHECKCARD 0618 UBER NH6ZY HELP.UBER.COMCA 24492158169717394185026","-17.95","27719.57"
06/19/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX618173692 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","27654.57"
06/20/2018,"Zelle Transfer Conf# f055dd9e7; KHANNA, ABHA","50.00","27704.57"
06/21/2018,"CHECKCARD 0620 GOOGLE *Google Storage 855-836-3987 CA 24692168171100209599801 RECURRING","-1.99","27702.58"
06/21/2018,"DISCOVER DES:E-PAYMENT ID:8610 INDN:BERI UTSAV CO ID:XXXXX20270 WEB","-669.47","27033.11"
06/22/2018,"VENMO DES:PAYMENT ID:XXXXX73281 INDN:UTSAV BERI CO ID:XXXXX81992 WEB","-40.00","26993.11"
06/22/2018,"VENMO DES:PAYMENT ID:XXXXX75806 INDN:UTSAV BERI CO ID:XXXXX81992 WEB","-27.00","26966.11"
06/26/2018,"STASH CAPITAL (S DES:ACH ID:XXXXX625175606 INDN:UTSAV BERI CO ID:XXXXX73990 WEB","-65.00","26939.11"
06/28/2018,"Zelle Transfer Conf# 0b8a372d1; Giri, Mohini","-150.00","26796.11"
06/28/2018,"Bank of America Credit Card Bill Payment","-1277.89","25518.22"
06/29/2018,"WAYFAIR LLC DES:DIRECT DEP ID:XXXXX9867023HV5 INDN:BERI,UTSAV CO ID:XXXXX11101 PPD","3298.21","28816.43"
06/29/2018,"Zelle Transfer Conf# f7edb8876; KHANNA, ABHA","20.00","28836.43"`
function getOb(line){
	// debugger;
	tokens = line.split(',');
	t = line.match(/(".*?"),(".*?"),(".*?")/);
	name = t[1].substr(0,80);
	amount = parseFloat(t[2].split('"').join(''));
	balance = parseFloat(t[3].split('"').join(''));
	var ob = {date : new Date(tokens[0]),
		name:name,
		amount:amount,//parseFloat(tokens[2].split('"').join('')),
		balance:balance//parseFloat(tokens[3].split('"').join(''))
	}
	return ob;
}

function parseMonthlyData(obs){
	var monthlyData = [];
	for(var i = 0; i<obs.length; i++){
		if(!!!monthlyData[obs[i].date.getMonth()]){
			monthlyData[obs[i].date.getMonth()] = [];
		}
		monthlyData[obs[i].date.getMonth()].push(obs[i]);
	}	
	return monthlyData;
}

function getSavingsData(monthlyData){
	var savings = [];
	for(var i = 0; i<monthlyData.length; i++){
		var first = monthlyData[i][0];
		// console.log('first',first);
		var last = monthlyData[i][monthlyData[i].length - 1];
		// console.log('last',monthlyData[0][monthlyData[0].length - 1]);

		savings.push( last.balance - first.balance);
	}
	return savings;
}

function getExpenseData(monthlyData){
	var expenses = [];
	for(var i = 0; i<monthlyData.length; i++){
		var sum = 0;
		for(var j = 0; j<monthlyData[i].length; j++){
			if(monthlyData[i][j].amount<0){
				sum+=monthlyData[i][j].amount;
			}
		}
		expenses.push( sum*-1);
	}
	return expenses;
}

function getSortedData(monthlyData){
	var result = [];
	for(var i = 0; i<monthlyData.length; i++){
		result.push(monthlyData[i].sort(function(a,b){return a.amount - b.amount}))
	}
	return result;
}
var openingBalance = 14349.07;
data = data.split('\n');
obs = [];
for(var i = 0; i<data.length; i++){
	obs.push(getOb(data[i]));
}

var plots = [];
x = [];
y=[];

for(var i = 0; i< obs.length; i++){
	var ob = {
		x:obs[i].date,y:obs[i].balance
	};
	plots.push(ob);
	x.push(obs[i].date.toLocaleString());
	y.push(obs[i].balance);
}

var monthlyData = parseMonthlyData(obs);
var savings = getSavingsData(monthlyData);
var expenses = getExpenseData(monthlyData);
var months = ['jan', 'feb', 'mar','apr','may','jun']

var sorted = getSortedData(monthlyData);
for (var i = 0; i<sorted.length; i++){
	console.log(months[i]);
	for(var j = 0; j<sorted[i].length; j++){
			if(sorted[i][j].amount<0)console.log(JSON.stringify(sorted[i][j]));

	}
}
TESTER = document.getElementById('tester');

Plotly.plot( TESTER, [{
		x: x,
		y: y,
		type:'scatter',
	}], 
	{
		margin: { t: 0 } 
	} );

TESTER = document.getElementById('tester2');

Plotly.plot( TESTER, [{
		x: ['jan', 'feb', 'mar','apr','may','jun'],
		y: savings,
		type:'scatter',
	}], 
	{
		margin: { t: 0 } 
	} );
TESTER = document.getElementById('tester3');

Plotly.plot( TESTER, [{
		x: ['jan', 'feb', 'mar','apr','may','jun'],
		y: expenses,
		type:'scatter',
	}], 
	{
		margin: { t: 0 } 
	} );

</script>

